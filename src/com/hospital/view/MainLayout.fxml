<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.hospital.controller.MainController"
            prefHeight="700.0" prefWidth="1000.0"
            stylesheets="@styles.css">

    <!-- Left Sidebar -->
    <left>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="sidebar-scroll">
            <VBox styleClass="sidebar" prefWidth="240" spacing="5">
                <Label text="WeCare" styleClass="sidebar-title"/>
                
                <Label text="Main Menu" styleClass="sidebar-label"/>
                <Button fx:id="btnDashboard" text="Overview" onAction="#showDashboard" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Button fx:id="btnPatients" text="Patients" onAction="#showPatients" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Button fx:id="btnDoctors" text="Doctors" onAction="#showDoctors" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Button fx:id="btnAppointments" text="Appointments" onAction="#showAppointments" styleClass="sidebar-button" maxWidth="Infinity"/>

                <Label text="Management" styleClass="sidebar-label"/>
                <Button fx:id="btnInventory" text="Medical Inventory" onAction="#showInventory" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Button fx:id="btnPrescriptions" text="Prescriptions" onAction="#showPrescriptions" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Button fx:id="btnPerformance" text="Performance" onAction="#showPerformance" styleClass="sidebar-button" maxWidth="Infinity"/>

                <Label text="Help &amp; Settings" styleClass="sidebar-label"/>
                <Button fx:id="btnFeedback" text="Feedbacks" onAction="#showFeedback" styleClass="sidebar-button" maxWidth="Infinity"/>
                <Button text="Sign Out" onAction="#handleExit" styleClass="sidebar-button" maxWidth="Infinity"/>
            </VBox>
        </ScrollPane>
    </left>

    <!-- Top Section (Tabs + Search) -->
    <top>
        <VBox>
            <!-- Chrome Tabs -->
            <HBox styleClass="chrome-tab-header">
                <Button fx:id="btnTabAdmin" text="Admin" styleClass="chrome-tab, active" onAction="#switchRoleAdmin"/>
                <Button fx:id="btnTabDoctor" text="Doctor" styleClass="chrome-tab" onAction="#switchRoleDoctor"/>
                <Button fx:id="btnTabPatient" text="Patient" styleClass="chrome-tab" onAction="#switchRolePatient"/>
            </HBox>

            <!-- Old Top Bar (Search and User) -->
            <HBox styleClass="top-bar" alignment="CENTER_LEFT" spacing="20">
                <!-- Back Button -->
                <Button fx:id="backButton" text="â†" onAction="#handleBack" disable="true" style="-fx-background-color: transparent; -fx-font-size: 18px; -fx-cursor: hand;"/>
                
                <!-- Spacer -->
                <Region HBox.hgrow="ALWAYS"/>
                
                <!-- Search Bar -->
                <TextField promptText="Search anything here..." styleClass="search-field" prefWidth="300"/>
                
                <!-- User Profile Placeholder -->
                <Label fx:id="lblWelcome" text="Welcome back, Admin ðŸ‘‹" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            </HBox>
        </VBox>
    </top>

    <!-- Main Content Area -->
    <center>
        <StackPane fx:id="contentArea" style="-fx-background-color: #f4f6f8;">
            <!-- Content will be loaded here -->
        </StackPane>
    </center>

</BorderPane>
